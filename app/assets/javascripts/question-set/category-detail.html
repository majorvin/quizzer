<br />
<br />
<br />
<form name="form" ng-submit="ok(form.$invalid)" class="form-horizontal" novalidate>
  <div class="alert alert-danger alert-dismissible fade in" role="alert" ng-if="showError == true">
    <a class="close" data-dismiss="alert" aria-label="Close">x
    </a>
    <strong>An error occurred:</strong>
    <ul>
      <li ng-repeat="error in errors">
        {{error}}
      </li>
    </ul>
  </div>
  <div
    class="form-group"
    ng-class="{ 'has-error' : form.name.$invalid && !form.name.$pristine }">
    <label for="text" class="col-sm-2 control-label">Category Name
      <span style="color:red;">*</span>
    </label>
    <div class="col-sm-10">
      <input
        type="text"
        id="name"
        name="name"
        class="form-control"
        placeholder="Name"
        ng-model="name"
        autofocus="autofocus"
        required>
      </input>
      <p
        ng-show="form.name.$invalid && !form.name.$pristine"
        class="help-block">Category Name is required.
      </p>
    </div>
  </div>
  <div class="form-group">
    <label for="text" class="col-sm-2 control-label">Category Description</label>
    <div class="col-sm-10">
      <input
        type="text"
        id="description"
        name="description"
        class="form-control"
        placeholder="Description"
        ng-model="description"
      >
      </input>
    </div>
  </div>
  <div
    class="form-group"
    ng-class="{ 'has-error' : form.max_question.$invalid && !form.max_question.$pristine }">
    <label for="text" class="col-sm-2 control-label">Max Question
      <span style="color:red;">*</span>
    </label>
    <div class="col-sm-10">
      <input
        type="text"
        id="max_question"
        name="max_question"
        class="form-control"
        placeholder="Max Question"
        ng-model="max_question"
        min=0
        ng-pattern="onlyNumbers"
        required
      >
      </input>
      <p
        ng-show="form.max_question.$invalid && !form.max_question.$pristine"
        class="help-block">Max question is required and should be an integer.
      </p>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <label class="checkbox-inline">
        <input type="checkbox" id="enable" value="option1" ng-model="enable">Enable
      </label>
    </div>
    </div>
  </div>
  <button style="visibility: hidden"></button>
  <div class="text-right">
    <button class="btn btn-primary" type="button" ng-click="ok(form.$invalid)" ng-disabled="form.$invalid">OK</button>
    <a ui-sref="categories">
      <button class="btn btn-warning" type="button">Cancel</button>
    </a>
  </div>
</form>
<hr />
<div ng-show="category">
  <h4>Questions
    <a ui-sref="categoryDetailQuestion({ id: category.id })">
      <button type="button" class="btn btn-primary" ng-click="">
        <i class="glyphicon glyphicon-plus"></i>
      </button>
    </a>
    <button type="button" class="btn btn-danger" ng-click="removeQuestions()" ng-hide="questionNotSelected()">
      <i class="glyphicon glyphicon-minus"></i>
    </button>
  </h4>

  <div class="table-responsive">

    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th style="width: 20px">
            <input type="checkbox" ng-model="checkall" id="checkall" ng-click="clickCheckAll()">
          </th>
          <th>Text</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="question in displayedQuestions">
          <td class="vert-align">
            <input type="checkbox" ng-model="question.selected" name="questions" id="{{question.id}}"/>
          </td>
          <td class="vert-align">{{question.text}}</td>
        </tr>
      </tbody>
    </table>
    <div class="text-center">
      <pagination total-items="totalItems" ng-model="currentPage" max-size="maxSize" class="pagination-sm" boundary-links="true" rotate="false" num-pages="numPages" ng-change="pageChanged()"></pagination>
    </div>
  </div>
</div>

